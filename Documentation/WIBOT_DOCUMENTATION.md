# WIBOT - Documentation Technique et Fonctionnelle

> **Version** : 1.0
> **Date** : 31 DÃ©cembre 2024
> **Public cible** : Ã‰quipe technique et semi-technique WIDIP

---

## Table des matiÃ¨res

1. [PrÃ©sentation GÃ©nÃ©rale](#1-prÃ©sentation-gÃ©nÃ©rale)
2. [Structure du Projet](#2-structure-du-projet)
3. [Architecture Globale](#3-architecture-globale)
4. [Frontend - Interface Utilisateur](#4-frontend---interface-utilisateur)
5. [Backend - Orchestration et API](#5-backend---orchestration-et-api)
6. [Base de DonnÃ©es](#6-base-de-donnÃ©es)
7. [PrÃ©requis et DÃ©pendances](#7-prÃ©requis-et-dÃ©pendances)
8. [Installation et DÃ©marrage](#8-installation-et-dÃ©marrage)
9. [ExpÃ©rience Utilisateur](#9-expÃ©rience-utilisateur)
10. [Pistes d'AmÃ©lioration](#10-pistes-damÃ©lioration)

---

## 1. PrÃ©sentation GÃ©nÃ©rale

### Qu'est-ce que WIBOT ?

**WIBOT** est l'assistant IA conversationnel de WIDIP, conÃ§u pour aider les Ã©quipes techniques dans leurs tÃ¢ches quotidiennes :

- ğŸ”§ Support technique (GLPI, rÃ©seau, monitoring)
- ğŸ“š Consultation de documentation technique
- ğŸ’» Assistance au dÃ©veloppement (Python, JS, SQL, Bash, n8n)
- ğŸ« RÃ©sumÃ© et analyse de tickets/incidents
- ğŸ¤– Automatisation de tÃ¢ches

### Vision simplifiÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         UTILISATEUR                              â”‚
â”‚                    (Navigateur Web)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     WIBOT FRONTEND                               â”‚
â”‚              (Interface de Chat React)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ API REST
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     WIBOT BACKEND                                â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚         â”‚   n8n    â”‚â—„â”€â”€â–ºâ”‚ PostgreSQLâ”‚â—„â”€â”€â–ºâ”‚ Mistral  â”‚            â”‚
â”‚         â”‚(Workflows)â”‚    â”‚   (BDD)   â”‚    â”‚   (IA)   â”‚            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Structure du Projet

### Arborescence du dossier WIBOT

```
WIBOT/
â”‚
â”œâ”€â”€ ğŸ“ wibot-frontend/          # Application React (Interface)
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/      # Composants rÃ©utilisables
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/           # Pages (Login, Chat)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/        # Appels API
â”‚   â”‚   â”œâ”€â”€ ğŸ“ hooks/           # Logique mÃ©tier rÃ©utilisable
â”‚   â”‚   â”œâ”€â”€ ğŸ“ store/           # Ã‰tat global (Zustand)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ types/           # DÃ©finitions TypeScript
â”‚   â”‚   â””â”€â”€ ğŸ“„ App.tsx          # Point d'entrÃ©e React
â”‚   â”œâ”€â”€ ğŸ“„ package.json         # DÃ©pendances npm
â”‚   â”œâ”€â”€ ğŸ“„ vite.config.ts       # Configuration build
â”‚   â””â”€â”€ ğŸ“„ tailwind.config.js   # ThÃ¨me visuel
â”‚
â”œâ”€â”€ ğŸ“ wibot-backend/           # Orchestration n8n + Base de donnÃ©es
â”‚   â”œâ”€â”€ ğŸ“ workflows/           # Workflows n8n (JSON)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth_login.json
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ chat_main.json
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ get_conversations.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ ğŸ“ rag-documents/       # Base de connaissances RAG
â”‚   â”‚   â”œâ”€â”€ ğŸ“ documentation/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ procedures/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ clients/
â”‚   â”‚   â””â”€â”€ ğŸ“ tickets/
â”‚   â”œâ”€â”€ ğŸ“ frontend/            # Build React (servi par Nginx)
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml   # Orchestration containers
â”‚   â”œâ”€â”€ ğŸ“„ nginx.conf           # Configuration reverse proxy
â”‚   â””â”€â”€ ğŸ“„ init.sql             # Initialisation BDD
â”‚
â”œâ”€â”€ ğŸ“ Documentation/           # Documentation existante
â”‚
â”œâ”€â”€ ğŸ“„ start.sh / start.bat     # Scripts de dÃ©marrage
â”œâ”€â”€ ğŸ“„ stop.sh / stop.bat       # Scripts d'arrÃªt
â”œâ”€â”€ ğŸ“„ FICHIER PROJECT.md       # SpÃ©cifications frontend
â””â”€â”€ ğŸ“„ PROJECT_BACKEND.md       # SpÃ©cifications backend
```

### SchÃ©ma visuel de la structure

```
                              WIBOT/
                                â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                   â”‚                   â”‚
            â–¼                   â–¼                   â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  FRONTEND   â”‚    â”‚   BACKEND   â”‚    â”‚    DOCS     â”‚
     â”‚   (React)   â”‚    â”‚    (n8n)    â”‚    â”‚ (Markdown)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                   â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
     â”‚             â”‚     â”‚             â”‚
     â–¼             â–¼     â–¼             â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”
 â”‚ src/  â”‚    â”‚public/â”‚ â”‚ work- â”‚  â”‚ rag-  â”‚
 â”‚       â”‚    â”‚       â”‚ â”‚ flows/â”‚  â”‚ docs/ â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Architecture Globale

### Vue d'ensemble de l'architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NAVIGATEUR WEB                                 â”‚
â”‚                         (Chrome, Firefox, etc.)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ HTTP/HTTPS
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        NGINX (Reverse Proxy)                             â”‚
â”‚                           Port 8080                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                            â”‚                                      â”‚   â”‚
â”‚  â”‚  Fichiers statiques        â”‚   RequÃªtes API (/webhook/*)         â”‚   â”‚
â”‚  â”‚  (HTML, CSS, JS)           â”‚                                      â”‚   â”‚
â”‚  â”‚         â”‚                  â”‚              â”‚                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                  â”‚              â”‚                           â”‚
â”‚            â–¼                  â”‚              â–¼                           â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚   Frontend    â”‚          â”‚      â”‚     n8n       â”‚                  â”‚
â”‚    â”‚  (Build React)â”‚          â”‚      â”‚   Port 5678   â”‚                  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                               â”‚              â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚              â”‚
                                â”‚              â–¼
                                â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚      â”‚  PostgreSQL   â”‚
                                â”‚      â”‚  Port 5433    â”‚
                                â”‚      â”‚ (+ pgvector)  â”‚
                                â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚              â”‚
                                â”‚              â–¼
                                â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚      â”‚  Mistral API  â”‚
                                â”‚      â”‚  (Cloud IA)   â”‚
                                â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                  RÃ‰SEAU DOCKER (wibot-network)
```

### Flux de communication principal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FLUX D'UN MESSAGE CHAT                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  1. UTILISATEUR                                                          â”‚
â”‚     â”‚ Tape "Comment rÃ©soudre une panne internet ?"                       â”‚
â”‚     â–¼                                                                    â”‚
â”‚  2. FRONTEND (React)                                                     â”‚
â”‚     â”‚ - Capture le message                                               â”‚
â”‚     â”‚ - PrÃ©pare la requÃªte JSON                                          â”‚
â”‚     â”‚ - Ajoute le token JWT                                              â”‚
â”‚     â–¼                                                                    â”‚
â”‚  3. NGINX                                                                â”‚
â”‚     â”‚ - Route vers /webhook/wibot/chat                                   â”‚
â”‚     â–¼                                                                    â”‚
â”‚  4. N8N (Workflow chat_main)                                             â”‚
â”‚     â”‚ - VÃ©rifie le JWT                                                   â”‚
â”‚     â”‚ - VÃ©rifie le quota de tokens                                       â”‚
â”‚     â”‚ - Charge l'historique (10 derniers messages)                       â”‚
â”‚     â”‚ - PrÃ©pare le contexte pour l'IA                                    â”‚
â”‚     â–¼                                                                    â”‚
â”‚  5. MISTRAL API                                                          â”‚
â”‚     â”‚ - ReÃ§oit le prompt + contexte                                      â”‚
â”‚     â”‚ - GÃ©nÃ¨re la rÃ©ponse                                                â”‚
â”‚     â”‚ - Retourne tokens consommÃ©s                                        â”‚
â”‚     â–¼                                                                    â”‚
â”‚  6. N8N (suite)                                                          â”‚
â”‚     â”‚ - Sauvegarde messages en BDD                                       â”‚
â”‚     â”‚ - Met Ã  jour le compteur de tokens                                 â”‚
â”‚     â”‚ - Retourne la rÃ©ponse                                              â”‚
â”‚     â–¼                                                                    â”‚
â”‚  7. FRONTEND                                                             â”‚
â”‚     â”‚ - Affiche la rÃ©ponse                                               â”‚
â”‚     â”‚ - Met Ã  jour le compteur de tokens                                 â”‚
â”‚     â”‚ - Scroll automatique                                               â”‚
â”‚     â–¼                                                                    â”‚
â”‚  8. UTILISATEUR                                                          â”‚
â”‚     â”” Lit la rÃ©ponse formatÃ©e (Markdown, code colorÃ©, etc.)              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Frontend - Interface Utilisateur

### Stack Technique Frontend

| Technologie | Version | RÃ´le |
|-------------|---------|------|
| **React** | 18.2.0 | Framework UI composants |
| **TypeScript** | 5.9.3 | Typage statique JavaScript |
| **Vite** | 7.2.4 | Bundler et serveur de dev |
| **Tailwind CSS** | 3.4.19 | Framework CSS utilitaire |
| **Zustand** | 5.0.9 | Gestion d'Ã©tat global |
| **React Router** | 7.11 | Navigation SPA |
| **Axios** | 1.13.2 | Client HTTP |
| **React Markdown** | 10.1.0 | Rendu Markdown |
| **react-syntax-highlighter** | 16.1.0 | Coloration syntaxique |
| **react-dropzone** | 14.3.8 | Upload drag & drop |
| **Lucide React** | 0.562.0 | IcÃ´nes |
| **date-fns** | 4.1.0 | Manipulation de dates |

### Architecture des composants

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              App.tsx                                     â”‚
â”‚                          (Routes + Auth)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚                        Chat.tsx (Page)                         â”‚    â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚    â”‚  â”‚                     Header.tsx                           â”‚  â”‚    â”‚
â”‚    â”‚  â”‚  [Logo]  [Compteur Tokens]  [Menu Utilisateur] [Logout] â”‚  â”‚    â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚                                             â”‚  â”‚    â”‚
â”‚    â”‚  â”‚ Sidebar    â”‚           ChatWindow.tsx                    â”‚  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚                                             â”‚  â”‚    â”‚
â”‚    â”‚  â”‚ [+ Nouv.]  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚    â”‚         Message.tsx              â”‚     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚ Conv 1     â”‚    â”‚  [Avatar] Utilisateur: "..."     â”‚     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚ Conv 2     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚ Conv 3     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚ ...        â”‚    â”‚         Message.tsx              â”‚     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚    â”‚  [Avatar] WIBOT: "..."           â”‚     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚    â”‚  â”œâ”€â”€ MarkdownRenderer.tsx        â”‚     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚    â”‚  â””â”€â”€ CodeBlock.tsx               â”‚     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚    â”‚
â”‚    â”‚  â”‚            â”‚                                             â”‚  â”‚    â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚    â”‚  â”‚                    InputBar.tsx                          â”‚  â”‚    â”‚
â”‚    â”‚  â”‚  [Mode â–¼] [Zone de texte...              ] [Envoyer ğŸ“¤] â”‚  â”‚    â”‚
â”‚    â”‚  â”‚  [FileDropzone] [FilePreview]                           â”‚  â”‚    â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Gestion d'Ã©tat (Zustand Stores)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STORES ZUSTAND                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   AUTH STORE    â”‚   â”‚ CONVERSATIONS   â”‚   â”‚   CHAT STORE    â”‚        â”‚
â”‚  â”‚                 â”‚   â”‚     STORE       â”‚   â”‚                 â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ â€¢ user          â”‚   â”‚ â€¢ conversations â”‚   â”‚ â€¢ messages[]    â”‚        â”‚
â”‚  â”‚ â€¢ token (JWT)   â”‚   â”‚ â€¢ currentConv   â”‚   â”‚ â€¢ isLoading     â”‚        â”‚
â”‚  â”‚ â€¢ isAuthenticatedâ”‚  â”‚                 â”‚   â”‚ â€¢ tokensRemainingâ”‚       â”‚
â”‚  â”‚                 â”‚   â”‚                 â”‚   â”‚ â€¢ chatMode      â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ Actions:        â”‚   â”‚ Actions:        â”‚   â”‚ Actions:        â”‚        â”‚
â”‚  â”‚ â€¢ login()       â”‚   â”‚ â€¢ create()      â”‚   â”‚ â€¢ sendMessage() â”‚        â”‚
â”‚  â”‚ â€¢ logout()      â”‚   â”‚ â€¢ rename()      â”‚   â”‚ â€¢ loadMessages()â”‚        â”‚
â”‚  â”‚ â€¢ initAuth()    â”‚   â”‚ â€¢ delete()      â”‚   â”‚ â€¢ setMode()     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Modes de Chat disponibles

| Mode | ModÃ¨le IA | Usage recommandÃ© |
|------|-----------|------------------|
| **Code** | Devstral | OptimisÃ© pour le code et le dÃ©veloppement |
| **Flash** | Devstral Small | RÃ©ponses rapides et Ã©conomiques |
| **Pro** | Mistral Large | QualitÃ© maximale, raisonnement complexe |

### Design System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           THÃˆME SOMBRE                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Couleurs principales:                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”‚  #1A1A1A     â”‚  #141414     â”‚  #0D0D0D     â”‚                        â”‚
â”‚   â”‚  (Fond)      â”‚  (Fond sec.) â”‚  (Code)      â”‚                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”‚  #2A2A2A     â”‚  #232323     â”‚  #333333     â”‚                        â”‚
â”‚   â”‚  (Msg User)  â”‚  (Msg Bot)   â”‚  (Bordures)  â”‚                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                          â”‚
â”‚   Texte et accent:                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”‚  #E5E5E5     â”‚  #A0A0A0     â”‚  #5B9EFF     â”‚                        â”‚
â”‚   â”‚  (Primaire)  â”‚  (Secondaire)â”‚  (Accent)    â”‚                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                          â”‚
â”‚   Dimensions:                                                            â”‚
â”‚   â€¢ Sidebar: 280px                                                       â”‚
â”‚   â€¢ Header: 60px                                                         â”‚
â”‚   â€¢ InputBar: 80px                                                       â”‚
â”‚   â€¢ Police: Inter, 15px (texte) / 14px (code)                           â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Backend - Orchestration et API

### Stack Technique Backend

| Technologie | Version | RÃ´le |
|-------------|---------|------|
| **n8n** | Latest | Orchestration de workflows |
| **PostgreSQL** | 14 | Base de donnÃ©es relationnelle |
| **pgvector** | Extension | Recherche vectorielle (RAG) |
| **Nginx** | Alpine | Reverse proxy + serveur statique |
| **Docker** | Latest | Conteneurisation |
| **Docker Compose** | v2 | Orchestration multi-conteneurs |
| **Mistral API** | Cloud | ModÃ¨les IA (Large, Devstral) |

### Architecture des conteneurs Docker

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DOCKER COMPOSE                                     â”‚
â”‚                     (wibot-network)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    NGINX (wibot-nginx)                           â”‚    â”‚
â”‚  â”‚                      Port: 8080                                  â”‚    â”‚
â”‚  â”‚  â€¢ Sert les fichiers statiques React                            â”‚    â”‚
â”‚  â”‚  â€¢ Reverse proxy vers n8n (/webhook/*)                          â”‚    â”‚
â”‚  â”‚  â€¢ Rate limiting (10 req/s)                                     â”‚    â”‚
â”‚  â”‚  â€¢ Headers de sÃ©curitÃ©                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                    â”‚                                     â”‚
â”‚                                    â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      N8N (wibot-n8n)                             â”‚    â”‚
â”‚  â”‚                      Port: 5679                                  â”‚    â”‚
â”‚  â”‚  â€¢ ExÃ©cution des workflows                                      â”‚    â”‚
â”‚  â”‚  â€¢ Webhooks API REST                                            â”‚    â”‚
â”‚  â”‚  â€¢ Agent IA (Mistral)                                           â”‚    â”‚
â”‚  â”‚  â€¢ Gestion du contexte RAG                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                    â”‚                                     â”‚
â”‚                                    â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                 POSTGRESQL (wibot-postgres)                      â”‚    â”‚
â”‚  â”‚                      Port: 5433                                  â”‚    â”‚
â”‚  â”‚  â€¢ Stockage utilisateurs                                        â”‚    â”‚
â”‚  â”‚  â€¢ Stockage conversations et messages                           â”‚    â”‚
â”‚  â”‚  â€¢ Suivi consommation tokens                                    â”‚    â”‚
â”‚  â”‚  â€¢ Extension pgvector (embeddings)                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  Volumes persistants:                                                    â”‚
â”‚  â€¢ postgres_data â†’ /var/lib/postgresql/data                             â”‚
â”‚  â€¢ n8n_data â†’ /home/node/.n8n                                           â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Workflows n8n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WORKFLOWS N8N                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    AUTHENTIFICATION                              â”‚    â”‚
â”‚  â”‚  auth_login.json                                                 â”‚    â”‚
â”‚  â”‚  POST /webhook/auth/login                                        â”‚    â”‚
â”‚  â”‚  â†’ VÃ©rifie credentials â†’ GÃ©nÃ¨re JWT (8h)                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    CHAT PRINCIPAL â­                              â”‚    â”‚
â”‚  â”‚  chat_main.json                                                  â”‚    â”‚
â”‚  â”‚  POST /webhook/wibot/chat                                        â”‚    â”‚
â”‚  â”‚  â†’ JWT â†’ Quota â†’ Contexte â†’ Mistral â†’ Save â†’ RÃ©ponse           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    GESTION CONVERSATIONS                         â”‚    â”‚
â”‚  â”‚  â€¢ get_conversations.json    GET  /webhook/wibot/conversations  â”‚    â”‚
â”‚  â”‚  â€¢ create_conversation.json  POST /webhook/wibot/conversation   â”‚    â”‚
â”‚  â”‚  â€¢ rename_conversation.json  PATCH                              â”‚    â”‚
â”‚  â”‚  â€¢ delete_conversation.json  DELETE                             â”‚    â”‚
â”‚  â”‚  â€¢ get_messages.json         GET  /webhook/wibot/messages       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    TOKENS & RAG                                  â”‚    â”‚
â”‚  â”‚  â€¢ get_user_tokens.json      GET  /webhook/wibot/user/tokens    â”‚    â”‚
â”‚  â”‚  â€¢ rag_ingestion.json        Ingestion documents RAG            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API REST - Endpoints

| Endpoint | MÃ©thode | Authentification | Description |
|----------|---------|------------------|-------------|
| `/webhook/auth/login` | POST | Non | Connexion utilisateur |
| `/webhook/wibot/chat` | POST | JWT | Envoyer un message |
| `/webhook/wibot/conversations` | GET | JWT | Liste des conversations |
| `/webhook/wibot/messages` | GET | JWT | Messages d'une conversation |
| `/webhook/wibot/conversation/rename` | PATCH | JWT | Renommer conversation |
| `/webhook/wibot/conversation/delete` | DELETE | JWT | Supprimer conversation |
| `/webhook/wibot/user/tokens` | GET | JWT | Usage tokens |

### SÃ©curitÃ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MESURES DE SÃ‰CURITÃ‰                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  AUTHENTIFICATION                                                        â”‚
â”‚  â”œâ”€â”€ JWT (JSON Web Token)                                               â”‚
â”‚  â”‚   â”œâ”€â”€ Algorithme: HS256                                              â”‚
â”‚  â”‚   â”œâ”€â”€ Expiration: 8 heures                                           â”‚
â”‚  â”‚   â””â”€â”€ Secret: 32+ caractÃ¨res                                         â”‚
â”‚  â”‚                                                                       â”‚
â”‚  â””â”€â”€ Mots de passe                                                      â”‚
â”‚      â”œâ”€â”€ Hashage: bcrypt                                                â”‚
â”‚      â””â”€â”€ Rounds: 10                                                     â”‚
â”‚                                                                          â”‚
â”‚  PROTECTION API                                                          â”‚
â”‚  â”œâ”€â”€ RequÃªtes SQL paramÃ©trÃ©es (anti-injection)                         â”‚
â”‚  â”œâ”€â”€ Rate limiting: 10 req/s par IP                                    â”‚
â”‚  â”œâ”€â”€ Headers CORS configurÃ©s                                            â”‚
â”‚  â””â”€â”€ Headers de sÃ©curitÃ© (X-Frame-Options, X-XSS-Protection)           â”‚
â”‚                                                                          â”‚
â”‚  RÃ‰SEAU                                                                  â”‚
â”‚  â”œâ”€â”€ RÃ©seau Docker isolÃ©                                                â”‚
â”‚  â””â”€â”€ Seul Nginx exposÃ© (port 8080)                                     â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Base de DonnÃ©es

### SchÃ©ma relationnel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SCHÃ‰MA POSTGRESQL                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚       users         â”‚         â”‚   user_token_usage  â”‚                â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚  â”‚ PK user_id          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ FK user_id          â”‚                â”‚
â”‚  â”‚    username         â”‚         â”‚    month            â”‚                â”‚
â”‚  â”‚    password_hash    â”‚         â”‚    used_tokens      â”‚                â”‚
â”‚  â”‚    email            â”‚         â”‚    quota_tokens     â”‚                â”‚
â”‚  â”‚    role             â”‚         â”‚ UNIQUE(user,month)  â”‚                â”‚
â”‚  â”‚    created_at       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â”‚    is_active        â”‚                                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚            â”‚                                                             â”‚
â”‚            â”‚ 1:N                                                         â”‚
â”‚            â–¼                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚
â”‚  â”‚   conversations     â”‚                                                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                 â”‚
â”‚  â”‚ PK conversation_id  â”‚ (UUID)                                         â”‚
â”‚  â”‚ FK user_id          â”‚                                                 â”‚
â”‚  â”‚    title            â”‚                                                 â”‚
â”‚  â”‚    created_at       â”‚                                                 â”‚
â”‚  â”‚    updated_at       â”‚ (auto-update trigger)                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚            â”‚                                                             â”‚
â”‚            â”‚ 1:N                                                         â”‚
â”‚            â–¼                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚
â”‚  â”‚      messages       â”‚                                                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                 â”‚
â”‚  â”‚ PK message_id       â”‚                                                 â”‚
â”‚  â”‚ FK conversation_id  â”‚                                                 â”‚
â”‚  â”‚ FK user_id          â”‚                                                 â”‚
â”‚  â”‚    role             â”‚ CHECK ('user' | 'assistant')                   â”‚
â”‚  â”‚    content          â”‚                                                 â”‚
â”‚  â”‚    tokens           â”‚                                                 â”‚
â”‚  â”‚    attachments      â”‚ (JSONB)                                        â”‚
â”‚  â”‚    created_at       â”‚                                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚                                                                          â”‚
â”‚  INDEX:                                                                  â”‚
â”‚  â€¢ idx_conversations_user (user_id)                                     â”‚
â”‚  â€¢ idx_messages_conversation (conversation_id)                          â”‚
â”‚  â€¢ idx_messages_user (user_id)                                          â”‚
â”‚  â€¢ idx_token_usage_user_month (user_id, month)                         â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Quota de tokens

- **Quota par dÃ©faut** : 50 000 tokens / mois / utilisateur
- **Suivi** : Table `user_token_usage` avec UPSERT mensuel
- **VÃ©rification** : Avant chaque appel IA dans `chat_main`

---

## 7. PrÃ©requis et DÃ©pendances

### Logiciels requis

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PRÃ‰REQUIS SYSTÃˆME                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  OBLIGATOIRES                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  ğŸ³ Docker Desktop                                               â”‚    â”‚
â”‚  â”‚     Version: 24.0+ (avec Docker Compose v2)                     â”‚    â”‚
â”‚  â”‚     RÃ´le: Conteneurisation de tous les services backend         â”‚    â”‚
â”‚  â”‚     Download: https://www.docker.com/products/docker-desktop    â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  ğŸ“¦ Node.js                                                      â”‚    â”‚
â”‚  â”‚     Version: 18.x LTS ou 20.x LTS                               â”‚    â”‚
â”‚  â”‚     RÃ´le: ExÃ©cution du serveur de dÃ©veloppement frontend        â”‚    â”‚
â”‚  â”‚     Download: https://nodejs.org                                 â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  ğŸ“¦ npm                                                          â”‚    â”‚
â”‚  â”‚     Version: 9.x+ (inclus avec Node.js)                         â”‚    â”‚
â”‚  â”‚     RÃ´le: Gestionnaire de paquets JavaScript                    â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  ğŸ”‘ ClÃ© API Mistral                                              â”‚    â”‚
â”‚  â”‚     RÃ´le: AccÃ¨s aux modÃ¨les IA (Mistral Large, Devstral)        â”‚    â”‚
â”‚  â”‚     Obtenir: https://console.mistral.ai                         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â”‚  OPTIONNELS (pour dÃ©veloppement)                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  ğŸ’» VS Code                                                      â”‚    â”‚
â”‚  â”‚     Extensions recommandÃ©es:                                     â”‚    â”‚
â”‚  â”‚     - ESLint                                                     â”‚    â”‚
â”‚  â”‚     - Tailwind CSS IntelliSense                                 â”‚    â”‚
â”‚  â”‚     - TypeScript                                                 â”‚    â”‚
â”‚  â”‚     - Docker                                                     â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  ğŸ”§ Git                                                          â”‚    â”‚
â”‚  â”‚     Pour le versioning du code                                   â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ressources systÃ¨me recommandÃ©es

| Ressource | Minimum | RecommandÃ© |
|-----------|---------|------------|
| **RAM** | 4 Go | 8 Go |
| **CPU** | 2 cores | 4 cores |
| **Disque** | 10 Go | 20 Go |
| **OS** | Windows 10, macOS 10.15, Linux | - |

### Ports utilisÃ©s

| Port | Service | Accessible depuis |
|------|---------|-------------------|
| 8080 | Nginx (Production) | Navigateur |
| 5173 | Vite (DÃ©veloppement) | Navigateur |
| 5679 | n8n (Interface admin) | Navigateur |
| 5433 | PostgreSQL | Interne Docker |

---

## 8. Installation et DÃ©marrage

### Installation rapide

```bash
# 1. Cloner le projet (si pas dÃ©jÃ  fait)
git clone <repo-url>
cd WIBOT

# 2. Configurer les variables d'environnement
cd wibot-backend
cp env.example .env
# Ã‰diter .env et ajouter votre MISTRAL_API_KEY

# 3. DÃ©marrer les services backend
docker compose up -d

# 4. Attendre l'initialisation (~15 secondes)
sleep 15

# 5. Installer les dÃ©pendances frontend
cd ../wibot-frontend
npm install

# 6. Lancer le serveur de dÃ©veloppement
npm run dev
```

### AccÃ¨s aux services

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         URLS D'ACCÃˆS                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  ğŸŒ Application WIBOT (Dev)                                             â”‚
â”‚     URL: http://localhost:5173                                          â”‚
â”‚     Identifiants test: khora / test123                                  â”‚
â”‚                                                                          â”‚
â”‚  ğŸŒ Application WIBOT (Prod)                                            â”‚
â”‚     URL: http://localhost:8080                                          â”‚
â”‚                                                                          â”‚
â”‚  âš™ï¸ Interface n8n (Admin workflows)                                     â”‚
â”‚     URL: http://localhost:5679                                          â”‚
â”‚     Identifiants: admin / wibot_admin_2024                              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Scripts disponibles

| Script | Commande | Description |
|--------|----------|-------------|
| DÃ©marrage | `./start.sh` (Linux/Mac) ou `start.bat` (Windows) | Lance tout le stack |
| ArrÃªt | `./stop.sh` ou `stop.bat` | ArrÃªte tous les services |
| Frontend dev | `npm run dev` | Serveur dev avec hot-reload |
| Frontend build | `npm run build` | Build production |

---

## 9. ExpÃ©rience Utilisateur

### Parcours utilisateur

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PARCOURS UTILISATEUR WIBOT                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  1. CONNEXION                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  â”‚           Page de Login                 â”‚                             â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                             â”‚
â”‚  â”‚  â”‚  Nom d'utilisateur: [______]   â”‚    â”‚                             â”‚
â”‚  â”‚  â”‚  Mot de passe:      [______]   â”‚    â”‚                             â”‚
â”‚  â”‚  â”‚         [Se connecter]         â”‚    â”‚                             â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â–¼ SuccÃ¨s                                         â”‚
â”‚  2. INTERFACE CHAT                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”  WIBOT                    [ğŸ« 45,000 tokens] [ğŸ‘¤â–¼]    â”‚     â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚     â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚     â”‚
â”‚  â”‚ â”‚ [+ Nouv.] â”‚                                                  â”‚â”‚     â”‚
â”‚  â”‚ â”‚           â”‚   Bienvenue! Comment puis-je vous aider ?        â”‚â”‚     â”‚
â”‚  â”‚ â”‚ ğŸ“ Conv 1 â”‚                                                  â”‚â”‚     â”‚
â”‚  â”‚ â”‚ ğŸ“ Conv 2 â”‚                                                  â”‚â”‚     â”‚
â”‚  â”‚ â”‚           â”‚                                                  â”‚â”‚     â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚     â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚     â”‚
â”‚  â”‚ â”‚ [Mode â–¼]  [Tapez votre message...              ] [Envoyer]   â”‚â”‚     â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â”‚  3. ACTIONS DISPONIBLES                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  âœ… Nouvelle conversation                                       â”‚     â”‚
â”‚  â”‚  âœ… Envoyer message texte                                       â”‚     â”‚
â”‚  â”‚  âœ… Joindre fichiers (PDF, TXT, MD, CSV, JSON)                  â”‚     â”‚
â”‚  â”‚  âœ… Changer de mode (Code, Flash, Pro)                          â”‚     â”‚
â”‚  â”‚  âœ… Consulter historique conversations                          â”‚     â”‚
â”‚  â”‚  âœ… Renommer/Supprimer conversations                            â”‚     â”‚
â”‚  â”‚  âœ… Voir consommation tokens                                    â”‚     â”‚
â”‚  â”‚  âœ… Se dÃ©connecter                                              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### FonctionnalitÃ©s clÃ©s

| FonctionnalitÃ© | Description |
|----------------|-------------|
| **Chat IA** | Conversation avec l'IA Mistral, contexte WIDIP |
| **Historique** | Conservation des conversations prÃ©cÃ©dentes |
| **Upload fichiers** | Drag & drop de fichiers â†’ ingestion RAG temporaire |
| **Modes de chat** | Code, Flash, Pro selon le besoin |
| **Markdown** | RÃ©ponses formatÃ©es avec code colorÃ© |
| **Copie code** | Bouton copier sur les blocs de code |
| **Quota tokens** | Suivi de consommation mensuel |
| **Responsive** | Interface adaptÃ©e desktop |

---

## 10. RAG - SystÃ¨me DÃ©jÃ  ImplÃ©mentÃ©

### Workflow RAG Ingestion v2 - Multi-Format

Le systÃ¨me RAG est **dÃ©jÃ  opÃ©rationnel** avec un workflow complet :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RAG INGESTION v2 - EXISTANT âœ…                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  FORMATS SUPPORTÃ‰S :                                                     â”‚
â”‚  â”œâ”€â”€ .md     Markdown                                                   â”‚
â”‚  â”œâ”€â”€ .txt    Texte brut                                                 â”‚
â”‚  â”œâ”€â”€ .pdf    PDF (extraction native n8n)                                â”‚
â”‚  â”œâ”€â”€ .docx   Word (extraction native n8n)                               â”‚
â”‚  â”œâ”€â”€ .doc    Word legacy                                                â”‚
â”‚  â”œâ”€â”€ .xlsx   Excel (conversion lignes â†’ texte)                          â”‚
â”‚  â”œâ”€â”€ .xls    Excel legacy                                               â”‚
â”‚  â”œâ”€â”€ .csv    CSV (dÃ©tection colonnes automatique)                       â”‚
â”‚  â”œâ”€â”€ .json   JSON (aplatissement rÃ©cursif)                              â”‚
â”‚  â””â”€â”€ .html   HTML (nettoyage balises automatique)                       â”‚
â”‚                                                                          â”‚
â”‚  CATÃ‰GORISATION AUTOMATIQUE :                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Chemin/PrÃ©fixe  â”‚ CatÃ©gorie assignÃ©e                           â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ /procedures/    â”‚ procedure                                    â”‚     â”‚
â”‚  â”‚ PROC_*          â”‚ procedure                                    â”‚     â”‚
â”‚  â”‚ /clients/       â”‚ client                                       â”‚     â”‚
â”‚  â”‚ CLIENT_*        â”‚ client                                       â”‚     â”‚
â”‚  â”‚ /tickets/       â”‚ ticket                                       â”‚     â”‚
â”‚  â”‚ TICKET_*        â”‚ ticket                                       â”‚     â”‚
â”‚  â”‚ /documentation/ â”‚ documentation                                â”‚     â”‚
â”‚  â”‚ DOC_*           â”‚ documentation                                â”‚     â”‚
â”‚  â”‚ /faq/           â”‚ faq                                          â”‚     â”‚
â”‚  â”‚ Autres          â”‚ general                                      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â”‚  MODES DE DÃ‰CLENCHEMENT :                                                â”‚
â”‚  â”œâ”€â”€ Manuel     â†’ Full refresh (clear + rÃ©-ingestion complÃ¨te)          â”‚
â”‚  â”œâ”€â”€ Webhook    â†’ POST /webhook/wibot/rag/ingest (incrÃ©mental/full)    â”‚
â”‚  â””â”€â”€ Cron       â†’ Tous les dimanches Ã  3h (incrÃ©mental)                 â”‚
â”‚                                                                          â”‚
â”‚  PIPELINE TECHNIQUE :                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Scan   â”‚â”€â”€â–ºâ”‚ Switch   â”‚â”€â”€â–ºâ”‚ Extract â”‚â”€â”€â–ºâ”‚  Chunk   â”‚â”€â”€â–ºâ”‚ Mistral â”‚ â”‚
â”‚  â”‚Directoryâ”‚   â”‚Extension â”‚   â”‚ Content â”‚   â”‚(overlap) â”‚   â”‚ Embed   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚      â”‚
â”‚                                                                  â–¼      â”‚
â”‚                                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                           â”‚ PGVector â”‚  â”‚
â”‚                                                           â”‚  Store   â”‚  â”‚
â”‚                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚  MÃ‰TADONNÃ‰ES STOCKÃ‰ES :                                                  â”‚
â”‚  â”œâ”€â”€ source    (nom du fichier)                                         â”‚
â”‚  â”œâ”€â”€ category  (catÃ©gorie auto-dÃ©tectÃ©e)                                â”‚
â”‚  â”œâ”€â”€ path      (chemin relatif)                                         â”‚
â”‚  â””â”€â”€ hash      (MD5 pour dÃ©tection changements)                         â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Endpoint RAG disponible

```bash
# DÃ©clencher une ingestion manuelle
curl -X POST http://localhost:8080/webhook/wibot/rag/ingest \
  -H "Content-Type: application/json" \
  -d '{"mode": "full", "clear": true}'

# Ingestion incrÃ©mentale
curl -X POST http://localhost:8080/webhook/wibot/rag/ingest \
  -d '{"mode": "incremental"}'
```

### PiÃ¨ces jointes - SystÃ¨me ImplÃ©mentÃ©

**Ã‰tat actuel : FONCTIONNEL âœ…**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PIÃˆCES JOINTES - IMPLÃ‰MENTÃ‰                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  FRONTEND (InputBar.tsx)                                                 â”‚
â”‚  â”œâ”€â”€ âœ… Interface drag & drop fonctionnelle                             â”‚
â”‚  â”œâ”€â”€ âœ… Lecture fichiers en base64                                      â”‚
â”‚  â”œâ”€â”€ âœ… Envoi via API avec files: [{name, content}]                     â”‚
â”‚  â””â”€â”€ âœ… Formats acceptÃ©s: PDF, TXT, MD, CSV, JSON, DOCX, XLSX           â”‚
â”‚                                                                          â”‚
â”‚  BACKEND (chat_main.json)                                                â”‚
â”‚  â”œâ”€â”€ âœ… Extraction de body.files dans Verify JWT                        â”‚
â”‚  â”œâ”€â”€ âœ… Node "Process Files" : decode base64 et sauvegarde              â”‚
â”‚  â”œâ”€â”€ âœ… Appel HTTP vers rag_ingestion avec category="temp"              â”‚
â”‚  â””â”€â”€ âœ… Fichiers ingÃ©rÃ©s dans PGVector avec conversation_id             â”‚
â”‚                                                                          â”‚
â”‚  NETTOYAGE (delete_conversation.json)                                    â”‚
â”‚  â”œâ”€â”€ âœ… DELETE FROM n8n_vectors WHERE category='temp' AND conv_id       â”‚
â”‚  â””â”€â”€ âœ… Suppression dossier rag-documents/temp-uploads/{conv_id}/       â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Architecture : RAG Temporaire par Conversation**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SOLUTION : INGESTION RAG TEMPORAIRE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  1. UPLOAD (modification chat_main.json)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Fichier glissÃ© â†’ base64 â†’ Backend                             â”‚      â”‚
â”‚  â”‚       â”‚                                                        â”‚      â”‚
â”‚  â”‚       â–¼                                                        â”‚      â”‚
â”‚  â”‚  DÃ©coder base64 â†’ Extraire texte (PDF/DOCX/TXT/etc)           â”‚      â”‚
â”‚  â”‚       â”‚                                                        â”‚      â”‚
â”‚  â”‚       â–¼                                                        â”‚      â”‚
â”‚  â”‚  Chunking + Embedding Mistral                                  â”‚      â”‚
â”‚  â”‚       â”‚                                                        â”‚      â”‚
â”‚  â”‚       â–¼                                                        â”‚      â”‚
â”‚  â”‚  INSERT INTO n8n_vectors                                       â”‚      â”‚
â”‚  â”‚    metadata = {                                                â”‚      â”‚
â”‚  â”‚      "category": "temp",                                       â”‚      â”‚
â”‚  â”‚      "conversation_id": "uuid-conv",                           â”‚      â”‚
â”‚  â”‚      "source": "document.pdf",                                 â”‚      â”‚
â”‚  â”‚      "user_id": 123                                            â”‚      â”‚
â”‚  â”‚    }                                                           â”‚      â”‚
â”‚  â”‚       â”‚                                                        â”‚      â”‚
â”‚  â”‚       â–¼                                                        â”‚      â”‚
â”‚  â”‚  IA a maintenant accÃ¨s au contenu via RAG                     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                          â”‚
â”‚  2. NETTOYAGE (modification delete_conversation.json)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  DELETE FROM n8n_vectors                                       â”‚      â”‚
â”‚  â”‚  WHERE metadata->>'category' = 'temp'                          â”‚      â”‚
â”‚  â”‚    AND metadata->>'conversation_id' = :conv_id                 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                          â”‚
â”‚  3. RECHERCHE (le RAG filtre automatiquement)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Documents permanents : toujours accessibles                   â”‚      â”‚
â”‚  â”‚  Documents temp : uniquement pour leur conversation            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. Pistes d'AmÃ©lioration

### Ce qui reste Ã  faire

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ROADMAP D'AMÃ‰LIORATION                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  ğŸ” AUTHENTIFICATION & AUTORISATION                                     â”‚
â”‚  â”œâ”€â”€ IntÃ©gration SSO (Active Directory / LDAP)                         â”‚
â”‚  â”œâ”€â”€ Matrice d'habilitation (rÃ´les et permissions)                     â”‚
â”‚  â”œâ”€â”€ MFA (Multi-Factor Authentication)                                  â”‚
â”‚  â””â”€â”€ Session management avancÃ©                                          â”‚
â”‚                                                                          â”‚
â”‚  âœ… PIÃˆCES JOINTES - IMPLÃ‰MENTÃ‰                                         â”‚
â”‚  â”œâ”€â”€ âœ… Traitement des fichiers uploadÃ©s                                â”‚
â”‚  â”œâ”€â”€ âœ… Ingestion RAG temporaire par conversation                       â”‚
â”‚  â”œâ”€â”€ âœ… Nettoyage automatique Ã  la suppression de conversation          â”‚
â”‚  â””â”€â”€ âœ… Support PDF, DOCX, TXT, MD, CSV, JSON, XLSX                     â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“š RAG - AMÃ‰LIORATIONS (base dÃ©jÃ  fonctionnelle)                       â”‚
â”‚  â”œâ”€â”€ Filtrage par permissions utilisateur                               â”‚
â”‚  â”œâ”€â”€ Connecteurs sources externes (GLPI, SharePoint, Confluence)        â”‚
â”‚  â”œâ”€â”€ Interface d'upload admin pour nouveaux documents                   â”‚
â”‚  â””â”€â”€ Statistiques d'utilisation du RAG                                  â”‚
â”‚                                                                          â”‚
â”‚  ğŸ›ï¸ ADMINISTRATION                                                       â”‚
â”‚  â”œâ”€â”€ Interface d'administration                                         â”‚
â”‚  â”œâ”€â”€ Gestion des utilisateurs                                           â”‚
â”‚  â”œâ”€â”€ Configuration des quotas                                           â”‚
â”‚  â”œâ”€â”€ Monitoring et logs                                                 â”‚
â”‚  â””â”€â”€ Statistiques d'utilisation                                         â”‚
â”‚                                                                          â”‚
â”‚  ğŸ”§ TECHNIQUE                                                            â”‚
â”‚  â”œâ”€â”€ Tests automatisÃ©s (Jest, Playwright)                               â”‚
â”‚  â”œâ”€â”€ CI/CD pipeline                                                     â”‚
â”‚  â”œâ”€â”€ Monitoring (Prometheus, Grafana)                                   â”‚
â”‚  â”œâ”€â”€ Backup automatisÃ©                                                  â”‚
â”‚  â””â”€â”€ HTTPS en production                                                 â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“± UX/UI                                                                â”‚
â”‚  â”œâ”€â”€ Mode responsive mobile                                             â”‚
â”‚  â”œâ”€â”€ Mode clair/sombre                                                  â”‚
â”‚  â”œâ”€â”€ Raccourcis clavier                                                 â”‚
â”‚  â”œâ”€â”€ Export conversations (PDF, Markdown)                               â”‚
â”‚  â””â”€â”€ Suggestions de prompts                                             â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Matrice d'habilitation proposÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MATRICE D'HABILITATION                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  RÃ”LES PROPOSÃ‰S:                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ RÃ´le           â”‚ Description                                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ admin          â”‚ AccÃ¨s total, gestion utilisateurs, config       â”‚   â”‚
â”‚  â”‚ tech_senior    â”‚ AccÃ¨s RAG complet, tous les modes IA            â”‚   â”‚
â”‚  â”‚ tech           â”‚ AccÃ¨s RAG documentation + procÃ©dures            â”‚   â”‚
â”‚  â”‚ support        â”‚ AccÃ¨s RAG procÃ©dures + tickets                  â”‚   â”‚
â”‚  â”‚ guest          â”‚ Chat simple, pas de RAG                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  PERMISSIONS:                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Permission     â”‚ admin â”‚ senior â”‚ tech â”‚ support â”‚ guest â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ Chat IA        â”‚   âœ…  â”‚   âœ…   â”‚  âœ…  â”‚   âœ…    â”‚  âœ…   â”‚          â”‚
â”‚  â”‚ RAG Docs       â”‚   âœ…  â”‚   âœ…   â”‚  âœ…  â”‚   âŒ    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ RAG ProcÃ©dures â”‚   âœ…  â”‚   âœ…   â”‚  âœ…  â”‚   âœ…    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ RAG Clients    â”‚   âœ…  â”‚   âœ…   â”‚  âŒ  â”‚   âŒ    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ RAG Tickets    â”‚   âœ…  â”‚   âœ…   â”‚  âŒ  â”‚   âœ…    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ Mode Pro       â”‚   âœ…  â”‚   âœ…   â”‚  âœ…  â”‚   âŒ    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ Upload files   â”‚   âœ…  â”‚   âœ…   â”‚  âœ…  â”‚   âœ…    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ Admin panel    â”‚   âœ…  â”‚   âŒ   â”‚  âŒ  â”‚   âŒ    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ Gestion users  â”‚   âœ…  â”‚   âŒ   â”‚  âŒ  â”‚   âŒ    â”‚  âŒ   â”‚          â”‚
â”‚  â”‚ Config quotas  â”‚   âœ…  â”‚   âŒ   â”‚  âŒ  â”‚   âŒ    â”‚  âŒ   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Annexes

### Variables d'environnement

```bash
# Base de donnÃ©es
POSTGRES_DB=wibot
POSTGRES_USER=widip
POSTGRES_PASSWORD=<mot_de_passe_sÃ©curisÃ©>

# n8n
N8N_HOST=localhost
N8N_PORT=5678
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=<mot_de_passe_admin>

# SÃ©curitÃ©
JWT_SECRET=<clÃ©_minimum_32_caractÃ¨res>

# IA
MISTRAL_API_KEY=<votre_clÃ©_api_mistral>
```

### Commandes utiles

```bash
# Voir les logs des containers
docker compose logs -f

# RedÃ©marrer un service spÃ©cifique
docker compose restart n8n

# AccÃ©der Ã  PostgreSQL
docker exec -it wibot-postgres psql -U widip -d wibot

# Rebuild frontend
cd wibot-frontend && npm run build

# Copier build vers backend
cp -r dist/* ../wibot-backend/frontend/
```

---

**Document crÃ©Ã© le 31/12/2024 - WIBOT v1.0**
